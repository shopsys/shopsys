language: php

cache:
    directories:
        - ~/.composer/cache

php:
    - 7.4

install:
    - if [[ "$CHECK_STANDARDS" == "true" ]]; then composer require --dev shopsys/coding-standards; fi
    - travis_retry composer update $DEPENDENCIES

script:
    - php vendor/bin/parallel-lint ./src ./tests
    - php vendor/bin/phpunit tests
    - if [[ "$CHECK_STANDARDS" == "true" ]]; then php vendor/bin/ecs check --verbose ./src ./tests; fi
