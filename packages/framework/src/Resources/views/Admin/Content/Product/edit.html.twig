{% extends '@ShopsysFramework/Admin/Content/Product/detail.html.twig' %}

{% block title %}- {{ 'Editing product'|trans }} - {{ product.name }}{% endblock %}
{% block h1 %}
    {{ 'Editing product'|trans }} - {{ product.name }}
{% endblock %}

{% block visibility_info %}
    {{ block('product_visibilities') }}
{% endblock %}

{% block product_visibilities %}
    {% if isMultidomain() %}
        <span class="position-relative js-product-visibility" data-visibility-url="{{ url('admin_product_visibility', {productId: product.id}) }}">
            <span class="in-product-visibility__title-position js-product-visibility-icon in-icon svg">
                {% if isVisibleForDefaultPricingGroupOnEachDomain(product) %}
                    {{ icon('eye-fill', {class: 'in-icon--visible'}) }}
                {% elseif isVisibleForDefaultPricingGroupOnSomeDomain(product) %}
                    {{ icon('eye-fill', {class: 'in-icon--partially-visible'}) }}
                {% else %}
                    {{ icon('eye-slash', {class: 'in-icon--invisible'}) }}
                {% endif %}
            </span>
            <span class="js-product-visibility-box position-relative">
                <span class="in-product-visibility in-product-visibility--down js-product-visibility-box-window display-none"></span>
            </span>
        </span>
    {% else %}
        {% if isVisibleForDefaultPricingGroupOnEachDomain(product) %}
            <a href="{{ findUrlByDomainId('front_product_detail', { id: product.id }, getDomain().id) }}">
                {{ icon('eye-fill', {class: 'in-icon--visible'}) }}
            </a>
        {% else %}
            {{ icon('eye-slash', {class: 'in-icon--invisible'}) }}
        {% endif %}
    {% endif %}
{% endblock %}
