imports:
  - { resource: services_cron.yml }

services:
  _defaults:
    autowire: true
    autoconfigure: true
    public: false

  # exclude *CronModule.php - autodiscover rewrite imported cron services from services_cron.yml because has higher priority
  Shopsys\ProductFeed\HeurekaBundle\:
    resource: '../../*'
    exclude: '../../**/*CronModule.php'

  Shopsys\ProductFeed\HeurekaBundle\HeurekaFeedConfig:
    tags:
      - { name: shopsys.product_feed }

  Shopsys\ProductFeed\HeurekaBundle\Model\Product\ProductCrudExtension:
    tags:
      - { name: shopsys.crud_extension, type: product }

  Shopsys\ProductFeed\HeurekaBundle\Model\Product\ProductDataFixture:
    tags:
      - { name: shopsys.data_fixture }

  Shopsys\ProductFeed\HeurekaBundle\Model\Category\CategoryCrudExtension:
    tags:
      - { name: shopsys.crud_extension, type: category }

  Shopsys\ProductFeed\HeurekaBundle\Model\Category\CategoryDataFixture:
    tags:
      - { name: shopsys.data_fixture }

  Shopsys\ProductFeed\HeurekaBundle\Model\HeurekaCategory\HeurekaCategoryDownloader:
    arguments:
      - '%shopsys.product_feed.heureka_bundle.heureka_category_feed_url%'

  Shopsys\ProductFeed\HeurekaBundle\Model\HeurekaCategory\HeurekaCategoryDataFixture:
    tags:
      - { name: shopsys.data_fixture }
