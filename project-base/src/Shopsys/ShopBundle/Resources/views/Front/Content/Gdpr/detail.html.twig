{% if user is null %}
    <h2>{{ 'No results matching'|trans }}</h2>
{% else %}
    <div class="wrap-box">
        <h2 class="wrap-box__title">{{ 'Personal data of registered customer'|trans }}</h2>
        <div class="wrap-box__in">
            <table class="table-params">
                <tr>
                    <th>{{ 'First name'|trans }}:</th>
                    <td>{{ user.firstName }} </td>
                </tr>
                <tr>
                    <th>{{ 'Last name'|trans }}:</th>
                    <td>{{ user.lastName }} </td>
                </tr>
                {% if user.billingAddress.telephone is not null %}
                    <tr>
                        <th>{{ 'Telephone'|trans }}:</th>
                        <td>{{ user.billingAddress.telephone }} </td>
                    </tr>
                {% endif %}
                <tr>
                    <th>{{ 'E-mail'|trans }}:</th>
                    <td>{{ user.email }} </td>
                </tr>
                {% if user.billingAddress is not null %}
                    {% set addr = user.billingAddress %}
                    {% if addr.street is not null or addr.city is not null or addr.postCode is not null or addr.country.name is defined %}
                        <tr>
                            <th>{{ 'Billing address'|trans }}:</th>
                            <td>

                                {{ [addr.street, addr.city, addr.postCode, addr.country.name|default('') ]|joinNoneEmpty }}
                            </td>
                        </tr>
                    {% endif %}
                {% endif %}
                {% if user.deliveryAddress is not null %}
                    {% if user.deliveryAddress is not null %}
                        {% set delivery = user.deliveryAddress %}
                        {% if delivery.firstName is not null or delivery.lastName is not null or
                            delivery.companyName is not null or delivery.street is not null or
                            delivery.city is not null or delivery.postcode is not null or
                            delivery.country.name is defined %}
                            <tr>
                                <th>{{ 'Delivery address'|trans }}:</th>
                                <td>

                                    {{ [ delivery.firstName, delivery.lastName, delivery.companyName, delivery.street,
                                        delivery.city, delivery.postcode, delivery.country.name|default('') ]|joinNoneEmpty }}
                                </td>
                            </tr>
                        {% endif %}
                    {% endif %}
                {% endif %}

                {% if user.billingAddress.companyTaxNumber is not null or
                    user.billingAddress.companyNumber is not null or
                    user.billingAddress.companyName is not null %}
                    <tr>
                        <th>{{ 'Company'|trans }}:</th>
                        <td>
                            {% set address = user.billingAddress %}
                            {{ [address.companyName, address.companyNumber, address.companyTaxNumber ]|joinNoneEmpty }}
                        </td>
                    </tr>
                {% endif %}
            </table>
        </div>
    </div>
{% endif %}